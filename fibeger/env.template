# =============================================================================
# ENVIRONMENT VARIABLES TEMPLATE
# =============================================================================
# Copy this file to .env and fill in your actual values
# 
# For Vercel deployment, set these in: Vercel Dashboard → Settings → Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# For Vercel: MUST use PostgreSQL
# For local development: Can use PostgreSQL or SQLite
# -----------------------------------------------------------------------------

# PostgreSQL (Recommended for both local and production)
DATABASE_URL="postgresql://user:password@localhost:5432/fibeger"

# OR SQLite (Local development ONLY - will NOT work on Vercel)
# DATABASE_URL="file:./prisma/dev.db"

# Vercel Postgres example:
# DATABASE_URL="postgres://user:password@region-pooler.vercel.com:5432/verceldb?sslmode=require"

# Neon example:
# DATABASE_URL="postgresql://user:password@ep-name-123456.region.aws.neon.tech/dbname?sslmode=require"

# Supabase example:
# DATABASE_URL="postgresql://postgres:password@db.project-ref.supabase.co:5432/postgres?pgbouncer=true"

# -----------------------------------------------------------------------------
# NEXTAUTH CONFIGURATION
# -----------------------------------------------------------------------------

# NextAuth Secret (REQUIRED)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# NextAuth URL (REQUIRED)
# Local development:
NEXTAUTH_URL="http://localhost:3000"

# Production (update with your actual Vercel URL):
# NEXTAUTH_URL="https://your-app-name.vercel.app"

# =============================================================================
# VERCEL DEPLOYMENT INSTRUCTIONS
# =============================================================================
#
# 1. CREATE POSTGRESQL DATABASE
#    - Option A: Vercel Postgres (easiest)
#      → Vercel Dashboard → Storage → Create Database → Postgres
#    - Option B: Neon (https://neon.tech) - Free tier
#    - Option C: Supabase (https://supabase.com) - Free tier
#
# 2. ADD ENVIRONMENT VARIABLES TO VERCEL
#    Go to: Vercel Dashboard → Your Project → Settings → Environment Variables
#    Add these three variables for Production, Preview, and Development:
#    
#    DATABASE_URL="your-postgresql-connection-string"
#    NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32"
#    NEXTAUTH_URL="https://your-app-name.vercel.app"
#
# 3. RUN DATABASE MIGRATIONS
#    From your local terminal:
#    
#    # Windows PowerShell:
#    $env:DATABASE_URL="your-production-database-url"
#    npx prisma migrate deploy
#    
#    # macOS/Linux:
#    export DATABASE_URL="your-production-database-url"
#    npx prisma migrate deploy
#
# 4. DEPLOY TO VERCEL
#    - Push to GitHub (if using automatic deployments)
#    - OR click "Redeploy" in Vercel Dashboard
#
# 5. TEST YOUR DEPLOYMENT
#    - Visit: https://your-app-name.vercel.app/api/test-db
#    - Try signing up and logging in
#    - Remove the /api/test-db endpoint after testing
#
# =============================================================================
# TROUBLESHOOTING
# =============================================================================
#
# Error: "Environment variable not found: DATABASE_URL"
# → DATABASE_URL not set in Vercel environment variables
#
# Error: "relation 'User' does not exist"
# → Run migrations: npx prisma migrate deploy
#
# Error: "Connection timeout"
# → Add to DATABASE_URL: ?connection_limit=1&pool_timeout=0
#
# Error: "NEXTAUTH_SECRET is not set"
# → Generate: openssl rand -base64 32 and add to Vercel
#
# =============================================================================
# HELPFUL COMMANDS
# =============================================================================
#
# Generate Prisma Client:
# npx prisma generate
#
# Run migrations:
# npx prisma migrate deploy
#
# Open Prisma Studio (database GUI):
# npx prisma studio
#
# Generate new secret:
# openssl rand -base64 32
#
# =============================================================================

# For more detailed instructions, see:
# - QUICK_FIX_VERCEL.md (fastest path to deployment)
# - VERCEL_DATABASE_SETUP.md (detailed setup guide)
# - VERCEL_DEPLOYMENT_SUMMARY.md (complete overview)
